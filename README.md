The code in this repository reproduces the problem that is described here:

https://stackoverflow.com/questions/52377410/when-i-use-thrift-to-serialize-map-in-c-to-disk-and-then-de-serialize-it-usin

To reproduce in on Linux, run script reproduce-linux.sh

To reproduce in on macOS, run script reproduce-macos.sh